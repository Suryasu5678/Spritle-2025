---
// Data for the slider
const UpSliderData = [
  {
    id: "slide1",
    title: "Enterprise-Level Tech, Made Simple:",
    description:
      "Efficiently managing a large team demands a solid technological foundation. Our services offer robust, secure, and user-friendly solutions tailored to your needs. Picture a team of over 150 members, seamlessly collaborating with the aid of precisely crafted tools. This is the vision of future work that we're adept at bringing to fruition for enterprises.",
    p: "Large enterprise businesses that became our clients : ",
    image: "../assets/enterprise1.png",
    logos: [
      "../assets/nestlelogo.png",
      "../assets/hyundailogo.png",
      "../assets/stengglogo.png",
      "../assets/panasoniclogo.png",
      "../assets/c2.png",
      "../assets/standfordlogo.png",
    ],
  },
  {
    id: "slide2",
    title: "Transitioning from startup to scaleup?",
    description:
      "Embrace growth with our flexible tech solutions tailored for mid-level companies. Stay agile as your business evolves, empowered by our support every step of the way, so you can focus on what truly mattersâ€”achieving your goals",
    p: "Up-and-coming companies we partnered with early on  ",
    image: "../assets/enterprise2.png",
    logos: ["../assets/trianglelogo.png", "../assets/pinnaclelogo.png"],
  },
  {
    id: "slide3",
    title: "Thinking about launching a startup?",
    description:
      "Are you a startup grappling with managing both your creative concepts and technical infrastructure? We understand the struggle. Our user-friendly solutions are designed to adapt as your startup expands. Focus on your passion while we handle the tech, accelerating your journey to realizing your dreams.",
    p: "Young companies we partnered with",
    image: "../assets/enterprise3.png",
    logos: [
      "../assets/treelogo.png",
      "../assets/timesportslogo.png",
      "../assets/innerkraftlogo.png",
      "../assets/haleonlogo.png",
    ],
  },
];
---

<div
  class="w-full flex justify-center items-center overflow-hidden rounded-2xl p-3 md:p-0 lg:p-2 xl:p-20"
>
  <div
    id="upSliderWrapper"
    class="md:w-[90%] h-[80vh] lg:w-full flex flex-col snap-y snap-mandatory overflow-y-scroll xl:h-[80vh] scroll-smooth relative mt-40"
    style={{ scrollbarWidth: "none", msOverflowStyle: "none" }}
  >
    {
      UpSliderData.map((slide, index) => (
        <div
          id={`slide-${index}`}
          class={`upSliderSlide slide-${index} flex max-lg:flex-col lg:flex-row-reverse w-full h-[80vh] flex-shrink-0 items-center justify-between px-6 lg:px-10 bg-black rounded-lg overflow-hidden md:gap-[0px] gap-1`}
        >
          <div class=" max-lg:order-1  flex justify-center relative h-auto ">
            <img
              src={slide.image}
              alt="Map"
              class="max-lg:p-3 md:p-5 lg:p-0 max-lg:h-[30vh] h-[20vh] md:h-[35vh] lg:h-[469px] lg:w-[750px] w-full rounded-lg shadow-lg object-contain object-center "
            />
          </div>
          <div class="max-lg:w-full max-lg:order-2 max-lg:pt-8  w-1/2 md:space-y-0 lg:space-y-6 xl:space-y-12  space-y-0 sm:space-y-0 lg:mt-25 xl:mt-0 mt-5 md:ml-10 ml-0 relative  positioncontainer  ">
            <h2 class="text-4xl   text-white font-medium">{slide.title}</h2>
            <p class="text-subheading font-normal text-primary ">
              {slide.description}
            </p>
            <p class="text-lg md:text-lg   xl:text-2xl font-normal text-primary">
              {slide.p}
            </p>
            <div class="flex flex-wrap gap-3 justify-center lg:justify-start logocontainer h-auto w-full">
              {slide.logos.map((logo) => (
                <img
                  src={logo}
                  alt="Logo"
                  class="h-auto lg:w-20 bg-white rounded-lg object-contain"
                />
              ))}
            </div>
          </div>
        </div>
      ))
    }
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const slides = document.querySelectorAll(".upSliderSlide");

    const observerOptions = {
      root: document.querySelector("#upSliderWrapper"),
      rootMargin: "0px",
      threshold: 0.7, // Trigger when 50% of the slide is visible
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        const slide = entry.target as HTMLElement; // Type assertion here
        if (entry.isIntersecting) {
          slide.style.transform = "scale(1)";
          slide.style.filter = "grayscale(0%)";
        } else {
          // slide.style.transform = "scale(0.8)";
          slide.style.filter = "grayscale(80%)";
        }
      });
    }, observerOptions);

    slides.forEach((slide) => {
      observer.observe(slide);
    });
  });
</script>

<style>
  /* Base style for all slides */
  .upSliderSlide {
    position: sticky;
    top: 0;
    will-change: transform, filter;
    transition:
      transform 0.5s ease-out,
      filter 0.5s ease-out;
  }

  /* Custom scrollbar hiding */
  #upSliderWrapper::-webkit-scrollbar {
    display: none;
  }

  /* Adjust layout for screens below 1514px */
  @media (max-width: 1514px) {
    .upSliderSlide > div {
      width: 100% !important;
      height: auto;
    }

    .upSliderSlide img {
      width: 100%;
      height: 45vh;
      object-fit: contain;
      aspect-ratio: 16 / 9;
    }
    .upSliderSlide h2 {
      font-size: 1.7rem; /* Adjust heading size for smaller screens */
    }

    .upSliderSlide p {
      font-size: 1.2rem; /* Adjust paragraph size for smaller screens */
    }

    .upSliderSlide .flex-wrap img {
      width: 80px; /* Larger logos for screens below 1514px */
      height: auto;
    }
  }
  @media (max-width: 1020px) {
    .upSliderSlide {
      flex-direction: column; /* Stack image and content vertically */
      align-items: center; /* Center-align items */
    }

    .upSliderSlide > div {
      width: 100% !important;
      height: auto;
    }

    .upSliderSlide img {
      width: 100%;
      height: 45vh;
      object-fit: scale-down;
      aspect-ratio: 16 / 9;
    }
    .upSliderSlide h2 {
      font-size: 1.5rem; /* Adjust heading size for smaller screens */
    }

    .upSliderSlide p {
      font-size: 1.2rem; /* Adjust paragraph size for smaller screens */
    }

    .upSliderSlide .flex-wrap img {
      width: 80px; /* Larger logos for screens below 1514px */
      height: auto;
      margin-bottom: 20px;
    }
    .positioncontainer {
      bottom: 60px;
      margin: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px; /* Equal vertical spacing */
    }
  }

  /* Further adjustments for mobile screens */
  @media (max-width: 900px) {
    .upSliderSlide img {
      width: 100%;
      height: 38vh;
      object-fit: scale-down;
    }

    .upSliderSlide h2 {
      font-size: 1.5rem; /* Smaller heading for mobile */
    }

    .upSliderSlide p {
      font-size: 1rem; /* Smaller paragraph for mobile */
    }

    .upSliderSlide .flex-wrap img {
      width: 80px; /* Larger logos for screens below 1514px */
    }
    .positioncontainer {
      bottom: 30px;
      margin: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px; /* Equal vertical spacing */
    }
    .logocontainer {
      max-width: 100%;
      height: auto;
      padding: 1px;
    }

    .logocontainer img {
      max-width: 100%;
      height: 50px;
      object-fit: cover;
    }
  }

  @media (max-width: 547px) {
    .upSliderSlide img {
      width: 100%;
      height: 25vh;
      object-fit: scaledown;
    }

    .upSliderSlide h2 {
      margin-bottom: 1px;
      line-height: 22px;
      font-size: 1.3rem; /* Smaller heading for mobile */
    }

    .upSliderSlide p {
      font-size: 15px; /* Smaller paragraph for mobile */
      line-height: 20px;
    }

    .upSliderSlide .flex-wrap img {
      max-height: 80px; /* Larger logos for screens below 1514px */
      width: 80px;
    }
    .positioncontainer {
      bottom: 71px;
      gap: 20px; /* Equal vertical spacing */
    }
  }
  @media (max-width: 375px) {
    .upSliderSlide h2 {
      line-height: 22px;
      font-size: 1rem; /* Smaller heading for mobile */
    }
    .upSliderSlide img {
      width: 100%;
      height: 25vh;
      object-fit:   contain;
    }
    .positioncontainer {
      bottom: 67px;
      gap: 0px; /* Equal vertical spacing */
    }
  }
</style>
